# Windows PowerShell : Azure

These are simple demo scripts to build an Azure VM with all artifacts required for running AutomateLab with Hyper-V (via nested virtualization).

The script [Azure VM for AutomatedLab via Hyper-V (Nested Virtualization).ps1](./Azure%20VM%20for%20AutomatedLab%20via%20Hyper-V%20(Nested%20Virtualization).ps1): Create a new Windows 11 Azure VM (Size: D8s v5) with 
- Public IP and FQDN (\<vmname\>.\<location\>.cloudapp.azure.com) 
- A 512-GB sized F: partition dedicated to host AutomatedLab artifacts
- A JIT policy for RDP and allowing only your current IP address (3-hour long - enabled when the VM starts)
- A daily  scheduled shutdown at 11:00 PM (in your local timezone)
- The automatedlab setup (Hyper-V installation, Modules installation, AutomatedLab setup is done via DSC via the [AutomatedLabSetupDSC.ps1](./AutomatedLabSetupDSC.ps1) )
- The account is your local username environment variable and the password is autogenerated (and copied in the clipboard at the beginning of the script)